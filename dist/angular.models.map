{"version":3,"file":"angular.models.min.js","sources":["?","../src/angular.models.js","../src/models.base.collection.js","../src/models.base.model.js","../src/models.config.js","../src/models.events.js","../src/models.exceptions.js","../src/models.extend.js","../src/models.helpers.js","../src/models.lodash.js","../src/models.sync.js"],"names":["angular","module","factory","$q","$parse","Extend","Sync","WrapError","ValidationException","_","isModel","BaseCollectionClass","models","options","model","this","comparator","_reset","initialize","apply","arguments","reset","extend","silent","proto","setOptions","add","remove","merge","addOptions","prototype","Object","create","defineProperty","value","writable","noop","map","toJSON","set","singular","isArray","clone","i","length","get","id","modelId","attributes","_byId","cid","index","indexOf","splice","trigger","_removeReference","defaults","parse","slice","attrs","existing","sort","at","sortable","sortAttr","isString","toAdd","toRemove","modelMap","order","orderChanged","hasChanged","_prepareModel","push","_addReference","isNew","orderedModels","addOpts","previousModels","obj","first","matches","where","Error","sortBy","bind","attr","invoke","response","self","resolve","reject","success","sync","save","then","idAttribute","collection","validationError","on","_onModelEvent","off","event","prevId","previousAttributes","methods","each","method","args","call","unshift","BaseModelClass","uniqueId","result","changed","cloneDeep","serializeModel","key","getter","val","unset","changes","changing","prev","current","validate","error","_validate","_changing","_previousAttributes","isEqual","_pending","isEmpty","has","diff","old","base","replace","encodeURIComponent","constructor","operation","url","destroy","resp","defaultQueryParams","params","values","startsWith","trimLeft","constant","getUrl","ENDPOINT_PREFIX","service","Events","eventSplitter","onApi","events","name","callback","handlers","context","ctx","listening","count","eventsApi","iteratee","memo","opts","names","keys","test","split","internalOn","_events","listeners","_listeners","offApi","ids","listeningTo","objId","remaining","j","handler","_callback","size","onceMap","offer","once","triggerEvents","ev","l","a1","a2","a3","triggerApi","objEvents","cb","allEvents","all","concat","listenTo","_listenId","_listeningTo","thisId","stopListening","listenToOnce","Math","max","Array","unbind","message","statics","child","parent","hasOwnProperty","__super__","toArray","argsObj","zipObject","$window","provider","CRUD_MAP","update","patch","delete","read","setOperation","$get","$http","dynamicQueryParams","pick","headers","getQueryParams","data","include","JSON","stringify"],"mappings":"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"}